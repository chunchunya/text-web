# OSI 7层模型和TCP/IP 4层模型

![image-20210717131511338](../source/images/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210717131511338.png)

OSI各层的基本作用

![image-20210717131607860](../source/images/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/image-20210717131607860.png)



# TCP和UDP各自的特点

## UDP

1. **UDP是无连接的**。减少了开销和发送数据之前的时延。
2. **UDP使用尽最大努力交付**。即不保证可靠交付。
3. **UDP是面向报文的**。即应用层交给UDP多长的报文，UDP就照样发送（添加一个首部发送给网络层），对IP层交上来的UDP用户数据报，去除首部就原封不动地交付给上层地应用进程。
4. **UDP没有拥塞控制**。
5. **UDP支持一对一、一对多、多对一、多对多地交互通信**。
6. **UDP的首部开销小，只有八个字节**。（TCP有20个）

## TCP

1. **TCP是面向连接地运输层协议。**
2. **每条连接是点对点的**（一对一）。
3. **TCP提供可靠交付的服务**。通过TCP连接传送的数据，无差错、不丢失、不重复并且按序到达。
4. **TCP提供全双工通信**。
5. **面向字节流**。（流是指流入到进程或从进程流出的字节序列）。

# HTTP与HTTPS区别

1. **端口** ：HTTP的URL由“http://”起始且默认使用端口**80**，而HTTPS的URL由“https://”起始且默认使用端口**443**。

2. **安全性和资源消耗**：

   HTTP协议运行在**TCP之上，所有传输的内容都是明文**，客户端和服务器端都无法验证对方的身份。HTTPS是运行在SSL/TLS之上的HTTP协议，SSL/TLS 运行在TCP之上。所有传输的内容都经过加密，**加密采用对称加密**，但**对称加密的密钥用服务器方的证书进行了非对称加密**。所以说，HTTP 安全性没有 HTTPS高，但是 HTTPS 比HTTP耗费更多服务器资源。

   - 对称加密：密钥只有一个，加密解密为同一个密码，且加解密速度快，典型的对称加密算法有DES、AES等；
   - 非对称加密：密钥成对出现（且根据公钥无法推知私钥，根据私钥也无法推知公钥），加密解密使用不同密钥（公钥加密需要私钥解密，私钥加密需要公钥解密），相对对称加密速度较慢，典型的非对称加密算法有RSA、DSA等。

3.https需要向CA申请证书，可能需要费用。

# HTTP的发展

**http/0.9** :简单的请求和返回

**http/1.0：**引入了请求头和请求体；引入Cache机制；支持多类型文件的下载；请求头还加入了用户代理字段。

**http/1.1：**引入持久连接；管线化；提供虚拟主机的支持；通过引入Chunk transfer机制来解决对动态生成的内容的支持；引入客户端Cookie机制和安全机制。

**http/2：**多路复用（通过二进制分帧层实现）。解决方案可总结为：一个域名只使用一个TCP长连接和消除队头阻塞问题。

**http/3：**基于UDP实现类似于TCP的多路数据流、传输可靠性等功能。可称为QUIC协议。